<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>溫柔的一天</title>

<!-- 移除 Google Fonts，改用 Web Safe 字體 -->

<style>
  /* 使用 Web Safe 字體 - 保證在所有電腦上都能正確顯示 */
  html {
    font-family: 'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, Arial, sans-serif;
  }
  
  body {
    font-family: 'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, Arial, sans-serif;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
    overflow-y: auto;
    /* 修改背景設定，改善移動設備相容性 */
    background: url('background.jpg') no-repeat center top;
    background-size: cover;
    background-attachment: scroll; /* 改為 scroll 避免移動設備問題 */
  }
  
  body::after {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.35);
    z-index: 0;
    pointer-events: none; /* 避免干擾觸控 */
  }
  
  h1 { 
    color: #0c3e1f; 
    font-weight: bold; 
    z-index: 1; 
    position: relative; 
    text-align: center; 
    margin-bottom: 10px;
    font-family: 'Trebuchet MS', 'Lucida Grande', Arial, sans-serif;
  }
  
  .section {
    background: rgba(255, 255, 255, 0.85);
    padding: 20px;
    margin: 15px auto;
    border-radius: 25px;
    width: 95%;
    max-width: 800px;
    box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    z-index: 1;
    position: relative;
  }
  
  .daily-quote {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    padding: 20px;
    margin: 10px auto 20px auto;
    border-radius: 20px;
    width: 95%;
    max-width: 800px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    z-index: 1;
    position: relative;
    text-align: center;
  }
  
  .quote-text {
    font-size: 18px;
    color: #2c4a37;
    font-weight: 500;
    line-height: 1.6;
    margin: 0;
    font-family: 'Trebuchet MS', 'Lucida Grande', Arial, sans-serif;
  }
  
  .quote-emoji {
    font-size: 24px;
    margin-bottom: 10px;
    display: block;
  }

  button {
    padding: 12px 25px;
    margin: 5px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-size: 16px;
    /* Web Safe 字體設定 */
    font-family: 'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', Tahoma, Arial, sans-serif;
    background: linear-gradient(to bottom, #ffffff 0%, #dfefff 100%);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  
  button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 12px rgba(0,0,0,0.3);
  }
  
  .energy-bar {
    width: 100%;
    background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
    border: 2px solid rgba(76, 175, 80, 0.2);
    border-radius: 25px;
    overflow: hidden;
    margin-top: 10px;
  }
  
  .energy-fill {
    height: 25px;
    background: linear-gradient(to right, #81c784, #4caf50);
    width: 0%;
    transition: width 0.5s;
  }
  
  .floating-emoji {
    position: absolute; /* 改為 absolute，相對於 body */
    pointer-events: none;
    z-index: 0;
    user-select: none;
  }
  
  .feedback-text-large {
    font-size: 28px;
    font-weight: bold;
    color: #2c4a37;
    text-align: center;
    margin-top: 15px;
    font-family: 'Trebuchet MS', 'Lucida Grande', Arial, sans-serif;
  }
  
  h2 {
    color: #2c4a37;
    text-align: center;
    margin-bottom: 20px;
    font-weight: 600;
    font-family: 'Trebuchet MS', 'Lucida Grande', Arial, sans-serif;
  }
  
  /* 療癒行動手寫字樣式 - 改用 Web Safe 手寫字體 */
  .task-text {
    font-family: 'Bradley Hand', 'Brush Script MT', 'Lucida Handwriting', 'Comic Sans MS', cursive;
    font-size: 24px;
    font-weight: 500;
    color: #2c4a37;
    line-height: 1.5;
    text-align: center;
    margin: 20px 0;
    padding: 15px;
    background: linear-gradient(135deg, rgba(255, 248, 230, 0.8), rgba(255, 252, 245, 0.9));
    border-left: 4px solid #81c784;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transform: rotate(-0.5deg);
    transition: all 0.3s ease;
    position: relative;
  }
  
  .task-text::before {
    content: "✨";
    position: absolute;
    top: -5px;
    left: -10px;
    font-size: 18px;
    opacity: 0.7;
  }
  
  .task-text:hover {
    transform: rotate(0deg) scale(1.02);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    background: linear-gradient(135deg, rgba(255, 248, 230, 0.9), rgba(255, 252, 245, 1));
  }
  
  /* 不同的手寫字變化 - 使用 Web Safe 字體 */
  .task-text.style-2 {
    font-family: 'Brush Script MT', 'Lucida Handwriting', 'Comic Sans MS', cursive;
    font-size: 22px;
    transform: rotate(0.7deg);
    border-left-color: #f48fb1;
  }
  
  .task-text.style-2::before {
    content: "🌸";
  }
  
  .task-text.style-3 {
    font-family: 'Comic Sans MS', 'Lucida Handwriting', 'Bradley Hand', cursive;
    font-size: 20px;
    transform: rotate(-0.3deg);
    border-left-color: #64b5f6;
  }
  
  .task-text.style-3::before {
    content: "🌿";
  }
  
  /* 移動設備優化 */
  @media screen and (max-width: 768px) {
    .task-text {
      font-size: 20px;
      margin: 15px 0;
      padding: 12px;
    }
    
    .task-text.style-2 {
      font-size: 19px;
    }
    
    .task-text.style-3 {
      font-size: 18px;
    }
  
  /* 樹苗動畫樣式 */
  .tree-container {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    height: 200px;
    margin: 20px 0;
    position: relative;
  }
  
  .tree-sapling {
    transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
  }

  /* 移動設備優化 */
  @media screen and (max-width: 768px) {
    body {
      background-attachment: scroll; /* 確保移動設備使用 scroll */
      /* 添加漸層背景作為備案 */
      background-image: linear-gradient(135deg, #e8f5e8 0%, #b8e6b8 50%, #a8d8a8 100%);
    }
    
    .floating-emoji {
      display: none; /* 在小螢幕隱藏漂浮表情，避免性能問題 */
    }
    
    .section, .daily-quote {
      width: 90%;
    }
    
    button {
      font-size: 14px;
      padding: 10px 20px;
    }
    
    .task-text {
      font-size: 20px;
      margin: 15px 0;
      padding: 12px;
    }
    
    .task-text.style-2 {
      font-size: 19px;
    }
    
    .task-text.style-3 {
      font-size: 18px;
    }
  }

  /* 平板設備優化 */
  @media screen and (min-width: 769px) and (max-width: 1024px) {
    body {
      background-attachment: scroll;
    }
  }

  @keyframes sparkle {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
  }
</style>
</head>
<body>

<h1>溫柔的一天</h1>

<div class="daily-quote">
  <span class="quote-emoji" id="quote-emoji">🌸</span>
  <p class="quote-text" id="daily-quote-text">沒關係，今天也有好好努力過了。</p>
  <button id="change-quote-btn">new</button>
</div>

<div class="section mood-section">
  <h2>感受一下現在的心情吧~</h2>
  <button onclick="setMood('焦慮')">有點焦慮</button>
  <button onclick="setMood('悲傷')">覺得悲傷</button>
  <button onclick="setMood('生氣')">感到生氣</button>
  <button onclick="setMood('壓力')">壓力山大</button>
  <button onclick="setMood('疲憊')">身心疲憊</button>
  <button onclick="setMood('孤單')">感覺孤單</button>
  <button onclick="setMood('沮喪')">有些沮喪</button>
  <button onclick="setMood('害怕')">內心害怕</button>
  <button onclick="setMood('尷尬')">覺得尷尬</button>
  <button onclick="setMood('羞愧')">感到羞愧</button>
  <button onclick="setMood('嫉妒')">心生嫉妒</button>
  <button onclick="setMood('無聊')">感到無聊</button>
  <button onclick="setMood('煩躁')">心情煩躁</button>
  <button onclick="setMood('興奮')">超級興奮</button>
  <button onclick="setMood('感恩')">滿懷感恩</button>
  <button onclick="setMood('寂靜渴望')">渴望寂靜</button>
  <button onclick="setMood('空虛')">內心空虛</button>
  <button onclick="setMood('混亂')">思緒混亂</button>
  <button onclick="setMood('期待')">充滿期待</button>
  <button onclick="setMood('安心')">內心安定</button>
  <button onclick="setMood('滿足')">心滿意足</button>

  <button onclick="setMood('後悔')">有點後悔</button>
  <button onclick="setMood('困惑')">困惑當中</button>
  <button onclick="setMood('受傷')">心受傷了</button>
  
  <h5>💡 重複點選同一個心情按鈕，可以更換療癒行動喔！</h5>
</div>


<div class="section task-section" style="display:none;">
  <h2 id="healing-action-title">療癒行動</h2>
  <div class="task-text" id="task-text"></div>
  <button onclick="completeTask()">完成了</button>
</div>

<div class="section feedback-section" style="display:none;">
  <h2>你的心情小樹苗</h2>
  <div class="tree-container">
    <svg class="tree-sapling" id="tree-svg" width="160" height="160" viewBox="0 0 120 120">
      <!-- 土壤 -->
      <ellipse cx="60" cy="110" rx="25" ry="8" fill="#8D6E63" opacity="0.6"/>
      
      <!-- 樹幹 -->
      <rect id="tree-trunk" x="58" y="90" width="4" height="20" rx="2" fill="#8D6E63"/>
      
      <!-- 葉子群組 -->
      <g id="tree-leaves">
        <!-- 主要葉子 -->
        <circle cx="60" cy="85" r="12" fill="#81C784" opacity="0.8"/>
        <!-- 左側葉子 -->
        <circle cx="50" cy="88" r="8" fill="#66BB6A" opacity="0.7"/>
        <!-- 右側葉子 -->
        <circle cx="70" cy="88" r="8" fill="#66BB6A" opacity="0.7"/>
      </g>
      
      <!-- 可愛的花朵（高能量時出現） -->
      <g id="tree-flowers" opacity="0">
        <circle cx="52" cy="80" r="3" fill="#FFB74D"/>
        <circle cx="68" cy="82" r="3" fill="#F48FB1"/>
        <circle cx="60" cy="75" r="3" fill="#64B5F6"/>
      </g>
      
      <!-- 閃光效果（滿能量時） -->
      <g id="tree-sparkles" opacity="0">
        <text x="45" y="75" font-size="12" fill="#FFD700">✨</text>
        <text x="75" y="78" font-size="10" fill="#FFD700">✨</text>
        <text x="60" y="68" font-size="14" fill="#FFD700">✨</text>
      </g>
    </svg>
  </div>
  <div class="energy-bar">
    <div class="energy-fill" id="energy-fill"></div>
  </div>
  <p id="feedback-text"></p>
</div>

<script src="tasks.js"></script>   <!-- 先載入字典 -->
<script src="main.js"></script>    <!-- 再載入主要邏輯 -->

</body>
</html>
